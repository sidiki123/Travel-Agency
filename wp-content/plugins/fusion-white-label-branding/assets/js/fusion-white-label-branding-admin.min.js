!function(t){"use strict";t(document).ready(function(){var e,i=!1;e={change:function(e,i){setTimeout(function(){e.originalEvent&&t(e.target).trigger("change")},1)}},t(".color-field").wpColorPicker(e),t(".ui-buttonset .ui-button").on("click",function(e){e.preventDefault(),t(this).parent().find(".button-set-value").val(t(this).data("value")).trigger("change"),t(this).parent().find(".ui-button").removeClass("ui-state-active"),t(this).addClass("ui-state-active")}),t(".button-upload-image").click(function(e){var i,n="",o=t(this).data("title"),s=t(this).data("button-title"),a=t(this).data("image-id"),r=t(this).next(".button-remove-image");e.preventDefault(),n=wp.media({title:o,button:{text:s},multiple:!1}).on("select",function(){i=n.state().get("selection").first().toJSON(),t("."+a+"_preview").html('<img src="'+i.url+'">'),t("#"+a).val(i.url).trigger("change"),r.show()}).open()}),t(".button-import-setting").click(function(e){var i,n,o,s=document.getElementById("import_settings").files,a=t(".fusion-white-label-import-settings .spinner");if(e.preventDefault(),0>=s.length)return t("#import_settings").css("border-color","red"),!1;(i=new FileReader).onload=function(e){n=e.target.result,o=t("#import-nonce").val(),a.css("visibility","visible"),t("#import_settings").val(""),t.ajax({url:ajaxurl,type:"POST",data:{action:"import_white_label_settings",json_data:n,security:o},dataType:"json",success:function(){},complete:function(){a.removeAttr("style"),t(".import-success-icon").removeClass("hidden"),setTimeout(function(){t(".import-success-icon").addClass("hidden")},500)}})},i.readAsText(s.item(0))}),t(".fusion-white-label-branding-settings form *").change(function(){i=!0}),t(".fusion-white-label-branding-settings form").submit(function(){i=!1}),window.onbeforeunload=function(){if(i)return""}})}(jQuery);